# Copyright 2026 Dell Inc. or its subsidiaries. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---

# Credential file configurations
credential_files:
  - credential_type: "Omnia"
    file_path: "{{ input_project_dir }}/omnia_config_credentials.yml"
    vault_path: "{{ input_project_dir }}/.omnia_config_credentials_key"
    condition: true
  - credential_type: "Build Stream"
    file_path: "{{ input_project_dir }}/build_stream_oauth_credentials.yml"
    vault_path: "{{ input_project_dir }}/.build_stream_oauth_credentials_key"
    condition: "{{ enable_build_stream | default(false) | bool }}"
    mode: 600
    template: "{{ role_path }}/../create_config/templates/build_stream_credential.j2"

# Usage: fetch_mandatory_credentials.yml
mandatory_warning_msg: "WARNING: The following are mandatory credentials and cannot be left empty. Please provide valid inputs."
mandatory_input: "is a [MANDATORY] credential and cannot be left empty."
optional_warning_msg: |
  WARNING: The following are optional credentials. If left empty, these credentials will be skipped.
  Please provide valid inputs or press Enter to skip.
optional_input: "is an [OPTIONAL] credential and can be left empty to skip."
conditional_mandatory_input: "is a [CONDITIONAL MANDATORY] credential and cannot be left empty when the feature is enabled."
conditional_mandatory_warning_msg: |
  WARNING: Conditional mandatory credentials will be prompted based on your configuration.
  These credentials are required when specific features are enabled and cannot be left empty.

# Usage: prompt_credentials.yml
mandatory_password_fail_msg: "Failed. Password is required for mandatory credential or any username input. Please provide valid password."
password_match_fail_msg: "Failed. Passwords do not match. Please try again."
password_fail_msg: "Failed. Please provide valid password."
mandatory_credentials_msg: "Failed. Please provide valid username for mandatory credential."
username_fail_msg: "Failed. Please provide valid username."
credential_encrypt_fail_msg: "Failed to encrypt credential file."

# Usage: update_bs_credential_file.yml
password_hash_fail_msg: "Failed to generate Argon2 password hash for build stream registrar. Please check the password format and try again."
file_update_fail_msg: "Failed to update build_stream_oauth_credentials.yml. Please check file permissions and disk space."
bs_encrypt_fail_msg: "Failed to encrypt build_stream_oauth_credentials.yml. Please check vault password and file permissions."

docker_hub_warning: |
  Docker Hub Usage Warning:
  Unauthenticated access may result in rate limiting or throttling.
  Login for higher pull limits and reliable access.
  Proceed to enter your Docker credentials if you want to avoid pull rate limits.
  Press Enter.

# Build stream automation messages
build_stream_auto_force_node_msg: "Build stream is enabled, automatically forcing removal of node {{ node_to_remove }} (jobs will be killed)."
build_stream_auto_accept_metadata_msg: "Build stream is enabled, automatically accepting metadata changes."

omnia_credentials:
  provision:
    mandatory:
      - { password: provision_password }
      - { username: bmc_username, password: bmc_password }

  gitlab:
    mandatory:
      - { password: gitlab_root_password }
  prepare_oim:
    optional:
      - { username: docker_username, password: docker_password }
    mandatory:
      - { password: pulp_password }
      - { password: minio_s3_password }
    conditional_mandatory:
      - username: build_stream_auth_username
        password: build_stream_auth_password
        condition: "{{ enable_build_stream | default(false) | bool }}"
        file: "{{ credential_files[1].file_path }}"
      - username: postgres_user
        password: postgres_password
        condition: "{{ enable_build_stream | default(false) | bool }}"
  local_repo:
    optional:
      - { username: docker_username, password: docker_password }
  slurm:
    mandatory:
      - { password: slurm_db_password }
  slurm_custom:
    mandatory:
      - { password: slurm_db_password }
  openldap:
    mandatory:
      - { username: openldap_db_username, password: openldap_db_password }
      - { username: openldap_config_username, password: openldap_config_password }
      - { password: openldap_monitor_password }
  idrac_telemetry:
    mandatory:
      - { username: bmc_username, password: bmc_password }
      - { username: mysqldb_user, password: mysqldb_password }
      - { password: mysqldb_root_password }
  csi_driver_powerscale:
    mandatory:
      - { username: csi_username, password: csi_password }
  build_aarch_image:
    mandatory:
      - { password: provision_password }
  ldms:
    mandatory:
      - { password: ldms_sampler_password }
